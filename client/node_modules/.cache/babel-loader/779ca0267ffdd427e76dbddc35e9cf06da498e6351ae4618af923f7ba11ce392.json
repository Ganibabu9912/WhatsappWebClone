{"ast":null,"code":"import _objectSpread from\"D:/WhatsappWebClone/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{X,User,Phone,Image,FileText,Tag}from'lucide-react';import'./AddContactModal.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddContactModal=_ref=>{let{isOpen,onClose,onContactAdded}=_ref;const[formData,setFormData]=useState({wa_id:'',name:'',profilePicture:'',notes:'',labels:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();if(!formData.wa_id.trim()||!formData.name.trim()){setError('WhatsApp ID and Name are required');return;}setLoading(true);setError('');try{const contactData={wa_id:formData.wa_id.trim(),name:formData.name.trim(),profilePicture:formData.profilePicture.trim()||null,notes:formData.notes.trim()||'',labels:formData.labels.trim()?formData.labels.split(',').map(label=>label.trim()):[]};const response=await fetch('https://whatsappwebclone-ctfp.onrender.com/api/contacts',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(contactData)});if(response.ok){const newContact=await response.json();onContactAdded(newContact);handleClose();}else{const errorData=await response.json();setError(errorData.error||'Failed to create contact');}}catch(error){setError('Network error. Please try again.');}finally{setLoading(false);}};const handleClose=()=>{setFormData({wa_id:'',name:'',profilePicture:'',notes:'',labels:''});setError('');setLoading(false);onClose();};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:handleClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add New Contact\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:handleClose,children:/*#__PURE__*/_jsx(X,{size:20})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"contact-form\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"wa_id\",children:[/*#__PURE__*/_jsx(Phone,{size:16}),\"WhatsApp ID *\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"wa_id\",name:\"wa_id\",value:formData.wa_id,onChange:handleInputChange,placeholder:\"Enter WhatsApp ID (e.g., 1234567890)\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"name\",children:[/*#__PURE__*/_jsx(User,{size:16}),\"Name *\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:formData.name,onChange:handleInputChange,placeholder:\"Enter contact name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"profilePicture\",children:[/*#__PURE__*/_jsx(Image,{size:16}),\"Profile Picture URL\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",id:\"profilePicture\",name:\"profilePicture\",value:formData.profilePicture,onChange:handleInputChange,placeholder:\"https://example.com/profile.jpg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"notes\",children:[/*#__PURE__*/_jsx(FileText,{size:16}),\"Notes\"]}),/*#__PURE__*/_jsx(\"textarea\",{id:\"notes\",name:\"notes\",value:formData.notes,onChange:handleInputChange,placeholder:\"Add notes about this contact\",rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"labels\",children:[/*#__PURE__*/_jsx(Tag,{size:16}),\"Labels\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"labels\",name:\"labels\",value:formData.labels,onChange:handleInputChange,placeholder:\"family, work, friends (comma separated)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cancel-button\",onClick:handleClose,disabled:loading,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",disabled:loading,children:loading?'Adding...':'Add Contact'})]})]})]})});};export default AddContactModal;","map":{"version":3,"names":["React","useState","X","User","Phone","Image","FileText","Tag","jsx","_jsx","jsxs","_jsxs","AddContactModal","_ref","isOpen","onClose","onContactAdded","formData","setFormData","wa_id","name","profilePicture","notes","labels","loading","setLoading","error","setError","handleInputChange","e","value","target","prev","_objectSpread","handleSubmit","preventDefault","trim","contactData","split","map","label","response","fetch","method","headers","body","JSON","stringify","ok","newContact","json","handleClose","errorData","className","onClick","children","stopPropagation","size","onSubmit","htmlFor","type","id","onChange","placeholder","required","rows","disabled"],"sources":["D:/WhatsappWebClone/client/src/components/AddContactModal.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { X, User, Phone, Image, FileText, Tag } from 'lucide-react';\r\nimport './AddContactModal.css';\r\n\r\nconst AddContactModal = ({ isOpen, onClose, onContactAdded }) => {\r\n  const [formData, setFormData] = useState({\r\n    wa_id: '',\r\n    name: '',\r\n    profilePicture: '',\r\n    notes: '',\r\n    labels: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.wa_id.trim() || !formData.name.trim()) {\r\n      setError('WhatsApp ID and Name are required');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const contactData = {\r\n        wa_id: formData.wa_id.trim(),\r\n        name: formData.name.trim(),\r\n        profilePicture: formData.profilePicture.trim() || null,\r\n        notes: formData.notes.trim() || '',\r\n        labels: formData.labels.trim() ? formData.labels.split(',').map(label => label.trim()) : []\r\n      };\r\n\r\n      const response = await fetch('https://whatsappwebclone-ctfp.onrender.com/api/contacts', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(contactData),\r\n      });\r\n\r\n      if (response.ok) {\r\n        const newContact = await response.json();\r\n        onContactAdded(newContact);\r\n        handleClose();\r\n      } else {\r\n        const errorData = await response.json();\r\n        setError(errorData.error || 'Failed to create contact');\r\n      }\r\n    } catch (error) {\r\n      setError('Network error. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setFormData({\r\n      wa_id: '',\r\n      name: '',\r\n      profilePicture: '',\r\n      notes: '',\r\n      labels: ''\r\n    });\r\n    setError('');\r\n    setLoading(false);\r\n    onClose();\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"modal-overlay\" onClick={handleClose}>\r\n      <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"modal-header\">\r\n          <h2>Add New Contact</h2>\r\n          <button className=\"close-button\" onClick={handleClose}>\r\n            <X size={20} />\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"contact-form\">\r\n          {error && (\r\n            <div className=\"error-message\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"wa_id\">\r\n              <Phone size={16} />\r\n              WhatsApp ID *\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"wa_id\"\r\n              name=\"wa_id\"\r\n              value={formData.wa_id}\r\n              onChange={handleInputChange}\r\n              placeholder=\"Enter WhatsApp ID (e.g., 1234567890)\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"name\">\r\n              <User size={16} />\r\n              Name *\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"name\"\r\n              name=\"name\"\r\n              value={formData.name}\r\n              onChange={handleInputChange}\r\n              placeholder=\"Enter contact name\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"profilePicture\">\r\n              <Image size={16} />\r\n              Profile Picture URL\r\n            </label>\r\n            <input\r\n              type=\"url\"\r\n              id=\"profilePicture\"\r\n              name=\"profilePicture\"\r\n              value={formData.profilePicture}\r\n              onChange={handleInputChange}\r\n              placeholder=\"https://example.com/profile.jpg\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"notes\">\r\n              <FileText size={16} />\r\n              Notes\r\n            </label>\r\n            <textarea\r\n              id=\"notes\"\r\n              name=\"notes\"\r\n              value={formData.notes}\r\n              onChange={handleInputChange}\r\n              placeholder=\"Add notes about this contact\"\r\n              rows=\"3\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"labels\">\r\n              <Tag size={16} />\r\n              Labels\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"labels\"\r\n              name=\"labels\"\r\n              value={formData.labels}\r\n              onChange={handleInputChange}\r\n              placeholder=\"family, work, friends (comma separated)\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-actions\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"cancel-button\"\r\n              onClick={handleClose}\r\n              disabled={loading}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"submit-button\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? 'Adding...' : 'Add Contact'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddContactModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}